<div class="fala-cookie-banner">
  {% block bodyStart %}
    {% if "cookiePermission" not in request.COOKIES %}
      {% set html %}
        <p class="govuk-body">We use some essential cookies to make this service work.</p>
        <p class="govuk-body">We’d like to set additional cookies so we can remember your settings, understand how people use the service and make improvements.</p>
      {% endset %}
      
      {% set acceptHtml %}
        <p class="govuk-body">You’ve accepted additional cookies. You can <a class="govuk-link" href="/cookies">change your cookie settings</a> at any time.</p>
      {% endset %}
      
      {% set rejectHtml %}
        <p class="govuk-body">You’ve rejected additional cookies. You can <a class="govuk-link" href="/cookies">change your cookie settings</a> at any time.</p>
      {% endset %}
    
      {{ govukCookieBanner({
            'ariaLabel': "Cookies on Find a legal adviser or family mediator",
            'attributes': {
              'id': "cookie-banner"
            },
            'messages': [
              {
                'attributes': {
                  'id': "default-message"
                },
                'headingText': "Cookies on Find a legal adviser or family mediator",
                'html': html,
                'actions': [
                  {
                    'attributes': {
                      'id': "accept-cookies"
                    },
                    'text': "Accept analytics cookies",
                    'type': "button",
                    'name': "cookies",
                    'value': "accept"
                  },
                  {
                    'attributes': {
                      'id': "reject-cookies"
                    },
                    'text': "Reject analytics cookies",
                    'type': "button",
                    'name': "cookies",
                    'value': "reject"
                  },
                  { 
                    'attributes': {
                      'id': "cookies_banner_view_link"
                    },
                    'text': "View cookies",
                    'href': "/cookies"
                  }
                ]
              },
              {
                'attributes': {
                  'id': "accepted-message"
                },
                'html': acceptHtml,
                'role': "alert",
                'hidden': true,
                'actions': [
                  {
                    'attributes': {
                      'id': "accepted-hide"
                    },
                    'text': "Hide this message"
                  }
                ]
              },
              {
                'attributes': {
                  'id': "rejected-message"
                },
                'html': rejectHtml,
                'role': "alert",
                'hidden': true,
                'actions': [
                  {
                    'attributes': {
                      'id': "rejected-hide"
                    },
                    'text': "Hide this message"
                  }
                ]
              }
            ]
          }) 
      }}
    {% endif %}
  {% endblock %}
</div>

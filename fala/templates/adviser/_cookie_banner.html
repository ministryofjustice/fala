<div class="fala-cookie-banner govuk-!-display-none-print">
  {% block bodyStart %}
    {% if "cookiePermission" not in request.COOKIES %}
      {% set html %}
        <p class="govuk-body">{{_('We use some essential cookies to make this service work.')}}</p>
        <p class="govuk-body">{{_('We’d like to set additional cookies so we can remember your settings, understand how people use the service and make improvements.')}}</p>
      {% endset %}

      {% set acceptHtml %}
        <p class="govuk-body">{{_('You’ve accepted additional cookies. You can ')}}<a class="govuk-link" href="/cookies">{{_('change your cookie settings')}}</a>{{_(' at any time.')}}</p>
      {% endset %}

      {% set rejectHtml %}
        <p class="govuk-body">{{_('You’ve rejected additional cookies. You can ')}}<a class="govuk-link" href="/cookies">{{_('change your cookie settings')}}</a>{{_(' at any time.')}}</p>
      {% endset %}

      {% set ariaLabel = _("Cookies on Find a legal adviser or family mediator") %}
      {% set headingText = _("Cookies on Find a legal adviser or family mediator") %}
      {% set acceptCookies = _("Accept analytics cookies") %}
      {% set rejectCookies = _("Reject analytics cookies") %}
      {% set viewLink = _("View cookies") %}
      {% set hideText = _("Hide this message") %}

      {{ govukCookieBanner({
            'ariaLabel': ariaLabel,
            'attributes': {
              'id': "cookie-banner"
            },
            'messages': [
              {
                'attributes': {
                  'id': "default-message"
                },
                'headingText': headingText,
                'html': html,
                'actions': [
                  {
                    'attributes': {
                      'id': "accept-cookies"
                    },
                    'text': acceptCookies,
                    'type': "button",
                    'name': "cookies",
                    'value': "accept"
                  },
                  {
                    'attributes': {
                      'id': "reject-cookies"
                    },
                    'text': rejectCookies,
                    'type': "button",
                    'name': "cookies",
                    'value': "reject"
                  },
                  {
                    'attributes': {
                      'id': "cookies_banner_view_link"
                    },
                    'text': viewLink,
                    'href': "/cookies"
                  }
                ]
              },
              {
                'attributes': {
                  'id': "accepted-message"
                },
                'html': acceptHtml,
                'role': "alert",
                'hidden': true,
                'actions': [
                  {
                    'attributes': {
                      'id': "accepted-hide"
                    },
                    'text': hideText
                  }
                ]
              },
              {
                'attributes': {
                  'id': "rejected-message"
                },
                'html': rejectHtml,
                'role': "alert",
                'hidden': true,
                'actions': [
                  {
                    'attributes': {
                      'id': "rejected-hide"
                    },
                    'text': hideText
                  }
                ]
              }
            ]
          })
      }}
    {% endif %}
  {% endblock %}
</div>
